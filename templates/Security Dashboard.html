<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Security</title>
    <link href="../static/style.css" rel="stylesheet" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.10.2/dist/umd/popper.min.js" integrity="sha384-7+zCNj/IqJ95wo16oMtfsKbZ9ccEh31eOz1HGyDuCQ6wgnyJNSYdrPa03rtR1zdB" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.min.js" integrity="sha384-QJHtvGhmr9XOIpI6YVutG+2QOK9T+ZnN4kzFN1RtK3zEFEIsxhlmWl5/YESvpZ13" crossorigin="anonymous"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
</head>
<body>
    <nav class="navbar navbar-dark bg-dark sticky_style">
        <div class="container-fluid">
          <a class="navbar-brand" href="#">
            <img src="../static/images/security.jpg" alt="" width="30" height="24" class="d-inline-block align-text-top">
            Security Dashboard
          </a>
            <right><a href="/securitydash"><button type="button" class="btn btn-primary">Refresh</button></a>
                <a href="/logoutsecurity"><button type="button" class="btn btn-danger">Logout</button></a></right>
        </div>
      </nav>

    <div class="row add_main_container">
        <div class="nav col-md-2 add_main_first_col" id="v-pills-tab" role="tablist" aria-orientation="vertical">
            <button class="nav-link active" id="v-video-home-tab" data-bs-toggle="pill" data-bs-target="#v-video-home" type="button" role="tab" aria-controls="v-pills-home" aria-selected="true">Home</button>
            <button class="nav-link" id="v-pills-visitor-tab" data-bs-toggle="pill" data-bs-target="#v-pills-visitor" type="button" role="tab" aria-controls="v-pills-visitor" aria-selected="false">Visitors Overview</button>
            <button class="nav-link" id="v-pills-list-tab" data-bs-toggle="pill" data-bs-target="#v-pills-list" type="button" role="tab" aria-controls="v-pills-list" aria-selected="false">Active Visitors</button>
        </div>
        <div class="tab-content col-md-10 add_main_second_col" id="v-pills-tabContent">
          <div class="tab-pane fade show active" id="v-video-home" role="tabpanel" aria-labelledby="v-video-home-tab">
                <div class="container">
        <div class="row">
            <div class="col-sm-6">
                <div class="card">
                    <form method="post" action="{{ url_for('tasks') }}">
                        <div class="card-header text-center">
                            <h6>CAMERA APP by Elgoss Teams</h6>
                                <button type="submit" value="Stop/Start" name="stop" class="btn btn-outline-success">Stop/Start</button>
                                <button type="submit" value="Grey" name="grey" class="btn btn-outline-secondary">Grey</button>
                                <button type="submit" value="Negative" name="neg" class="btn btn-outline-secondary">Negative</button>
                                <button type="submit" value="Face Only" name="face" class="btn btn-outline-primary">Face Only</button>
                        </div>
                        <div class="card-body">
                            <img src="{{ url_for('video_feed') }}"  width="100%" alt="">
                        </div>
                        <div class="card-footer">
                            <button type="submit" value="Capture" name="click" class="btn btn-primary">Capture</button>
                            <button type="submit" value="Start/Stop Recording" name="rec" class="btn btn-danger">Start/Stop Recording</button>
                        </div>
                    </form>
                </div>
            </div>
            <div class="col-sm-6">
                <div class="card">
                    <div class="card-header">
                        Set Information
                    </div>
                    <form action="{{ url_for('visitor') }}" method="post">
                    <div class="card-body">
{#                        {% for obj in dataobj %}#}
                        <div class="form-floating mb-3">
                          <input type="text" class="form-control" id="floatingInput" placeholder="Candidate's Name" name="name" value="{{ data['Name']  }}"   required>
                          <label for="floatingInput">Candidate's Name</label>
                        </div>
                        <div class="form-floating mb-3">
                          <input type="text" class="form-control" id="floatingInput" placeholder="Father's Name" name="father" value="{{ data['Father Name'] }}" >
                          <label for="floatingInput">Father's Name</label>
                        </div>
                        <div class="form-floating mb-3">
                          <input type="text" class="form-control" id="floatingInput" placeholder="Date of Birth" name="dob" value="{{ data['Date of Birth'] }}" required>
                          <label for="floatingInput">Date of Birth</label>
                        </div>
                        <div class="form-floating mb-3">
                          <input type="text" class="form-control" id="floatingInput" placeholder="Gender" name="gender" value="{{ data['Sex'] }}" required>
                          <label for="floatingInput">Gender</label>
                        </div>
                        <div class="form-floating mb-3">
                          <input type="text" class="form-control" id="floatingInput" placeholder="Card" name="card" value="{{ data['ID Type'] }}" required>
                          <label for="floatingInput">Card</label>
                        </div>
                        <div class="form-floating mb-3">
                          <input type="text" class="form-control" id="floatingInput" placeholder="UID No" name="uid" value="{{ data['UID'] }}" required>
                          <label for="floatingInput">UID</label>
                        </div>
                        <div class="form-floating mb-3">
                          <input type="text" class="form-control" id="floatingInput1" placeholder="Date" name="Date" value required>
                          <label for="floatingInput1">Date</label>
                        </div>
                        <div class="form-floating mb-3">
                          <input type="text" class="form-control" id="floatingInput" placeholder="Purpose" name="Purpose" required>
                          <label for="floatingInput">Purpose</label>
                        </div>
                        <div class="form-floating mb-3">
                          <input type="text" class="form-control" id="floatingInput" placeholder="Email" name="Email" >
                          <label for="floatingInput">Email</label>
                        </div>
                        <div class="form-floating mb-3">
                          <input type="text" class="form-control" id="floatingInput" placeholder="Phone" name="Phone" required>
                          <label for="floatingInput">Phone</label>
                        </div>
                        <div class="form-floating mb-3">
                          <input type="text" class="form-control" id="floatingInput" placeholder="Approvedby" name="Approvedby" value="{{ approvedby }}" required >
                          <label for="floatingInput">Approvedby</label>
                        </div>

{#                        {% endfor %}#}
                    </div>
                    <div class="card-footer text-muted">
                        <button type="submit" name="submit" value="pass" class="btn btn-primary">Request for Pass</button>

                    </div>
                        </form>


                </div>
            </div>
        </div>
    </div>
        </div>
          <div class="tab-pane fade" id="v-pills-visitor" role="tabpanel" aria-labelledby="v-pills-visitor-tab">
              <center><h3>Visitors</h3></center>
            <table class="table">
                <thead class="table-light">
                  <th>Sr No</th>
                  <th>Name</th>

                  <th>Email</th>
                  <th>Phone No</th>
                  <th>Card</th>
                  <th>UID No</th>

                  <th>Gender</th>
                  <th>Purpose</th>
                  <th>Approved</th>
                  <th>Entry Details</th>
                  <th>Exit Details</th>
                </thead>
                {% for visitor in visitobj%}
                <tbody>
                    <td>{{ loop.index }}</td>
                    <td>{{ visitor['Name'] }}</td>

                    <td>{{ visitor['Email'] }}</td>
                    <td>{{ visitor['Phone'] }}</td>
                    <td>{{ visitor['Card'] }}</td>
                    <td>{{ visitor['UID'] }}</td>

                    <td>{{ visitor['Gender'] }}</td>
                    <td>{{ visitor['Purpose'] }}</td>
                    <td>{{ visitor['Approvedby'] }}</td>
                    <td>{{ visitor['Date'] }}</td>
                    <td>{{ visitor['Exittime'] }}</td>
                </tbody>
                {% endfor %}
              </table>
{#              <center><h3>Rejected Visitors</h3></center>#}
{#              <table class="table">#}
{#                <thead class="table-light">#}
{#                  <th>Sr No</th>#}
{#                  <th>Name</th>#}
{#                  <th>Phone No</th>#}
{#                  <th>UID No</th>#}
{#                  <th>Gender</th>#}
{#                  <th>Purpose</th>#}
{#                  <th>Entry Details</th>#}
{#                </thead>#}
{#                <tbody>#}
{#                    <td>1</td>#}
{#                    <td>Maneesh Mishra</td>#}
{#                    <td>66985485452</td>#}
{#                    <td>COS30SM185</td>#}
{#                    <td>Male</td>#}
{#                    <td>Meet Mr. Amresh Singh</td>#}
{#                    <td>17/02/2022 15:36</td>#}
{#                </tbody>#}
{#              </table>       #}
          </div>
          <div class="tab-pane fade" id="v-pills-list" role="tabpanel" aria-labelledby="v-pills-list-tab">
            <table class="table">
               <thead class="table-light">
                  <th>Sr No</th>
                  <th>Name</th>
                  <th>Email</th>
                  <th>Phone No</th>
                  <th>Card</th>
                  <th>UID No</th>
                  <th>Gender</th>
                  <th>Purpose</th>
                  <th>Approved</th>
                  <th>Entry Details</th>
                  <th>Exit</th>
                </thead>
                {% for activevis in activeobj%}
                <tbody>
                    <td>{{ loop.index }}</td>
                    <td>{{ activevis['Name'] }}</td>
                    <td>{{ activevis['Email'] }}</td>
                    <td>{{ activevis['Phone'] }}</td>
                    <td>{{ activevis['Card'] }}</td>
                    <td>{{ activevis['UID'] }}</td>
                    <td>{{ activevis['Gender'] }}</td>
                    <td>{{ activevis['Purpose'] }}</td>
                    <td>{{ activevis['Approvedby'] }}</td>
                    <td>{{ activevis['Date'] }}</td>
                    <td><a href="/deletevis/{{ activevis['UID'] }}"> <button type="button" class="btn btn-success">Exit</button></a></td>
                </tbody>
                {% endfor %}
              </table>       
          </div>
          </div>
      </div>
<script>
  var today = new Date();
  var date = today.getDate()+'/'+(today.getMonth()+1)+'/'+today.getFullYear()+' '+today.getHours() + ":" + today.getMinutes() + ":" + today.getSeconds();
  // {#var date = today.getFullYear()+'-'+(today.getMonth()+1)+'-'+today.getDate()#}
  document.getElementById("floatingInput1").value = date;

</script>
</body>
</html>